<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SNBT Mockup Book Cascade - Clean Hook</title>
<style>
body{
  margin:0;
  height:100vh;
  background:#020617;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:system-ui;
  overflow:hidden;
}
.phone{
  width:230px;
  height:460px;
  position:relative;
  transform-style:preserve-3d;
  animation:floatPhone 6s ease-in-out infinite;
}
@keyframes floatPhone{
  0%,100%{transform:translateY(0) rotateX(4deg) rotateY(-4deg)}
  50%{transform:translateY(-8px) rotateX(6deg) rotateY(-6deg)}
}
.body{
  position:absolute;
  inset:0;
  border-radius:34px;
  background:#020617;
  box-shadow:
    0 50px 100px rgba(0,0,0,.75),
    inset 0 0 0 2px #334155;
}
.body::before{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius:36px;
  background:linear-gradient(180deg,transparent 0%,rgba(56,189,248,.7) 50%,transparent 100%);
  opacity:.6;
  animation:rimMove 4s ease-in-out infinite;
}
@keyframes rimMove{
  0%,100%{transform:translateY(-20px)}
  50%{transform:translateY(20px)}
}
.screen{
  position:absolute;
  inset:10px;
  border-radius:26px;
  background:transparent;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  align-items:center;
  padding-top:25px;
}
.branding{
  position:absolute;
  top:5px;
  right:5px;
  font-size:10px;
  color:#fff;
  font-weight:700;
  background:rgba(0,0,0,0.3);
  padding:2px 4px;
  border-radius:4px;
  z-index:50;
}

/* Main hook - curved text */
.hook-svg{
  position:absolute;
  top:20px;
  width:100%;
  height:50px;
  pointer-events:none;
  z-index:70;
}
.hook-text{
  font-size:1em;
  fill:#38bdf8;
  font-weight:700;
  letter-spacing: 1px;
}

/* Sub-title horizontal above images */
.hook-subtitle{
  position:absolute;
  top:60px;
  width:90%;
  text-align:center;
  color:#fff;
  font-size:0.8em;
  font-weight:700;
  z-index:70;
}

/* Rationale Image */
.rationale{
  position:absolute;
  top:100px;
  width:90%;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  opacity:0;
  transform: scale(0.5) translateY(20px);
  transition: all 0.6s ease;
  z-index:40;
}
.rationale.show{
  opacity:1;
  transform: scale(1) translateY(0);
  animation:floatRationale 4s ease-in-out infinite alternate;
}
.rationale img{
  width:100%;
  height:auto;
  object-fit:contain;
}

/* Cascade Images */
.cascade-container{
  position:absolute;
  top:170px;
  width:100%;
  height:260px;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  pointer-events:none;
  z-index:30;
}
.cascade-container img{
  position:absolute;
  width:80%;
  height:auto;
  object-fit:contain;
  opacity:0;
  transform: scale(0.5) translateY(0);
  transition: all 0.6s ease;
}

/* Quiz Text */
.quiz-text{
  position:absolute;
  bottom:10px;
  width:90%;
  color:#fff;
  font-weight:700;
  text-align:center;
  opacity:0;
  transition: opacity 0.5s ease;
  z-index:50;
}
.quiz-text.show{
  opacity:1;
}

/* Word Fly */
.word-fly-container{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:60;
}
.word-fly{
  position:absolute;
  color:#fff;
  font-weight:700;
  pointer-events:none;
  transition:transform 1.2s cubic-bezier(.22,.9,.22,1), opacity 1s ease;
  z-index:60;
}
.word-fly.out{opacity:0;}

/* Floating animations */
@keyframes floatCascade{
  0%{transform: translateY(0) scale(1);}
  50%{transform: translateY(-10px) scale(1);}
  100%{transform: translateY(0) scale(1);}
}
@keyframes floatRationale{
  0%{transform: translateY(0) scale(1);}
  50%{transform: translateY(-8px) scale(1);}
  100%{transform: translateY(0) scale(1);}
}
</style>
</head>
<body>

<div class="phone">
  <div class="body"></div>
  <div class="screen">
    <div class="branding">ETK Yogya</div>

    <!-- Main hook curved text -->
    <svg class="hook-svg" viewBox="0 0 230 50">
      <defs>
        <path id="arcPath" d="M10,40 A110,30 0 0,1 220,40"/>
      </defs>
      <text class="hook-text">
        <textPath xlink:href="#arcPath" startOffset="50%" text-anchor="middle">
          ...CBTLearning| Tuntas SNBT... 
        </textPath>
      </text>
    </svg>

    <!-- Sub-title horizontal -->
    <div class="hook-subtitle">
      "Rationale Generator"
    </div>

    <div class="rationale" id="rationale">
      <img id="image" src="" alt="Quiz Image">
    </div>

    <div class="cascade-container" id="cascadeContainer"></div>
    <div class="quiz-text" id="quizText" data-text="SNBT|BAHAS|TUNTAS| Jika 3x + 5 = 20, maka nilai x adalah"></div>
    <div class="word-fly-container" id="wordFlyContainer"></div>
  </div>
</div>

<script>
const rationaleImages = [
  "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Qz1.jpg",
  "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Qz2.jpg",
  "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Qz3.jpg",
  "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Qz5.jpg",
  "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Qz6.jpg",
  "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Quiz1.jpg",
  "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Quiz2.jpg"
];

let currentRationale = 0;
const displayDuration = 5000;
const rationale = document.getElementById("rationale");
const image = document.getElementById("image");
const quizText = document.getElementById("quizText");
const wordFlyContainer = document.getElementById("wordFlyContainer");
const cascadeContainer = document.getElementById("cascadeContainer");

// Split quiz words
function splitWords(el){
  const text = el.dataset.text || el.innerText;
  el.dataset.text = text;
  el.innerHTML = text.split(" ").map(w=>`<span>${w}</span>`).join(" ");
}

// Fly words
function flyWords(el, radius){
  wordFlyContainer.innerHTML="";
  const parentRect = wordFlyContainer.getBoundingClientRect();
  el.querySelectorAll("span").forEach((span,i)=>{
    const rect = span.getBoundingClientRect();
    const clone = span.cloneNode(true);
    clone.className="word-fly";
    clone.style.left = rect.left - parentRect.left + "px";
    clone.style.top = rect.top - parentRect.top + "px";
    wordFlyContainer.appendChild(clone);
    setTimeout(()=>{
      const angle = Math.random()*Math.PI*2;
      const distance = Math.random()*radius + 20;
      clone.style.transform = `translate(${Math.cos(angle)*distance}px,${Math.sin(angle)*distance}px) scale(2.2)`;
      clone.classList.add("out");
    }, i*120);
    setTimeout(()=>clone.remove(),1800);
  });
}

// Fit image
function fitImage(img){
  const screenRect = img.parentElement.getBoundingClientRect();
  const imgRatio = img.naturalWidth / img.naturalHeight;
  const screenRatio = screenRect.width / screenRect.height;
  if(imgRatio>screenRatio){img.style.width='100%';img.style.height='auto';}
  else {img.style.width='auto'; img.style.height='100%';}
}

// Cascade images
function showCascade(){
  cascadeContainer.innerHTML="";
  rationaleImages.forEach((src,i)=>{
    const img=document.createElement("img");
    img.src=src;
    img.style.zIndex = 10 + i;
    cascadeContainer.appendChild(img);
    setTimeout(()=>{
      img.style.opacity=1;
      img.style.transform=`scale(1) translateY(${i*15}px)`;
      img.style.animation = `floatCascade 4s ease-in-out infinite alternate ${i*0.2}s`;
    },i*400);
    setTimeout(()=>img.remove(), displayDuration);
  });
}

// Show next rationale
function showNextRationale(){
  image.src=rationaleImages[currentRationale];
  rationale.className="rationale";
  quizText.className="quiz-text";
  quizText.innerHTML=quizText.dataset.text;

  image.onload=()=>{
    fitImage(image);
    setTimeout(()=>rationale.classList.add("show"),100);
    setTimeout(()=>{
      quizText.classList.add("show");
      splitWords(quizText);
      flyWords(quizText,80);
    },900);
    setTimeout(()=>{
      rationale.classList.remove("show");
      quizText.classList.remove("show");
      showCascade();
    }, displayDuration-1200);
  }

  currentRationale=(currentRationale+1)%rationaleImages.length;
  setTimeout(showNextRationale, displayDuration+1500);
}

// Start
showNextRationale();
</script>

</body>
</html>
