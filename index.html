<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>SNBT Cinematic Mockup â€“ CLEAN</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;height:100vh;
  display:flex;justify-content:center;align-items:center;
  background:#020617;font-family:system-ui;overflow:hidden;
}

/* ===== SAFE 9:16 ===== */
.safe-916{width:360px;height:640px;display:flex;justify-content:center;align-items:center}

/* ===== PHONE ===== */
.phone{
  width:230px;height:460px;position:relative;
}

/* ===== BODY (BASE BACKGROUND) ===== */
.body{
  position:absolute;inset:0;border-radius:34px;
  background:#020617;
  box-shadow:0 50px 120px rgba(0,0,0,.85),
             inset 0 0 0 2px #334155;
  transition:background 1.2s ease;
}
.body.light{background:#020617}
.body.base{background:#020617}

/* ===== SCREEN ===== */
.screen{
  position:absolute;inset:10px;border-radius:26px;
  overflow:hidden;background:#020617;
}
.screen::after{
  content:"";position:absolute;inset:0;
  background:radial-gradient(ellipse at center,
    transparent 55%,rgba(0,0,0,.45));
  pointer-events:none;
}

/* ===== BRAND ===== */
.branding{
  position:absolute;top:6px;right:8px;
  font-size:10px;font-weight:700;color:#fff;opacity:.8;
}

/* ===== HOOK ===== */
.hook-container{
  position:absolute;top:28px;width:90%;left:5%;
  text-align:center;z-index:20;
}
.hook-line.big span{
  display:inline-block;
  font-size:1.6em;
  font-weight:800;
  color:#38bdf8;
}
.hook-line.small{
  margin-top:6px;font-size:.85em;color:#fff;
}

/* ===== IMAGE ===== */
.rationale{
  position:absolute;top:96px;width:90%;left:5%;
  opacity:0;transform:scale(.96);
  transition:.8s cubic-bezier(.22,.9,.22,1);
}
.rationale.show{opacity:1;transform:scale(1)}
.rationale img{width:100%;height:auto}

/* ===== CASCADE ===== */
.cascade-container{
  position:absolute;top:96px;width:100%;height:260px;
  pointer-events:none;z-index:5;
}
.cascade-container img{
  position:absolute;width:80%;left:10%;
  opacity:0;
  transition:.6s cubic-bezier(.22,.9,.22,1);
}

/* ===== QUIZ ===== */
.quiz-text{
  position:absolute;bottom:18px;width:90%;left:5%;
  color:#fff;font-weight:700;text-align:center;
  opacity:0;transition:.6s ease;
}
.quiz-text.show{opacity:1}

/* ===== WORD FLY ===== */
.word-fly{
  position:absolute;font-weight:700;
  color:#fff;pointer-events:none;
}
</style>
</head>

<body>
<div class="safe-916">
  <div class="phone">
    <div class="body base" id="body"></div>

    <div class="screen">
      <div class="branding">ETK Yogya</div>

      <div class="hook-container">
        <div class="hook-line big" id="hookLine">
          CBTLearning Mudah Pahami Soal SNBT 2026
        </div>
        <div class="hook-line small">
          Rationale Generator
        </div>
      </div>

      <div class="rationale" id="rationale">
        <img id="image" alt="">
      </div>

      <div class="cascade-container" id="cascade"></div>

      <div class="quiz-text" id="quizText"
        data-text="Jika 3x + 5 = 20, maka nilai x adalah">
      </div>
    </div>
  </div>
</div>

<script>
/* ===== CONFIG ===== */
const BPM=90, BEAT=60000/BPM, LOOP=16;
const images=[
 "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Qz1.jpg",
 "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Qz2.jpg",
 "https://raw.githubusercontent.com/etkyogya-hub/cbtlearning-snbt-1/main/videos/assets/Qz3.jpg"
];

/* ===== DOM ===== */
const bodyEl=document.getElementById("body");
const hook=document.getElementById("hookLine");
const rationale=document.getElementById("rationale");
const image=document.getElementById("image");
const quizText=document.getElementById("quizText");
const cascadeEl=document.getElementById("cascade");

/* ===== PRELOAD ===== */
images.forEach(s=>{const i=new Image();i.src=s});

/* ===== HOOK ARC ===== */
(()=>{
  const words=hook.innerText.split(" ");
  hook.innerHTML="";
  const c=(words.length-1)/2;
  words.forEach((w,i)=>{
    const s=document.createElement("span");
    const a=(i-c)*10;
    s.textContent=w+" ";
    s.style.opacity=0;
    s.style.transform=`rotate(${a}deg) scale(.7)`;
    s.style.transition=".8s cubic-bezier(.22,.9,.22,1)";
    hook.appendChild(s);
    setTimeout(()=>{
      s.style.opacity=1;
      s.style.transform=`rotate(${a}deg) scale(1)`;
    },i*120);
    setTimeout(()=>s.style.transform="none",2200);
  });
})();

/* ===== WORD FLY ===== */
function flyWords(){
  const text=quizText.dataset.text;
  quizText.innerHTML=text.split(" ").map(w=>`<span>${w}</span>`).join(" ");
  const p=quizText.getBoundingClientRect();
  quizText.querySelectorAll("span").forEach((s,i)=>{
    const r=s.getBoundingClientRect();
    const f=s.cloneNode(true);
    f.className="word-fly";
    f.style.left=(r.left-p.left)+"px";
    f.style.top =(r.top -p.top )+"px";
    quizText.appendChild(f);
    setTimeout(()=>{
      f.style.transform=`translate(${(Math.random()-.5)*120}px,${(Math.random()-.5)*120}px) scale(2)`;
      f.style.opacity=0;
    },i*80);
    setTimeout(()=>f.remove(),1400);
  });
}

/* ===== CASCADE ===== */
function cascade(){
  cascadeEl.innerHTML="";
  images.forEach((src,i)=>{
    const img=document.createElement("img");
    img.src=src;
    img.style.transform=`translateY(${40+i*20}px) scale(.9) rotate(${i*2}deg)`;
    cascadeEl.appendChild(img);
    setTimeout(()=>{
      img.style.opacity=1;
      img.style.transform=`translateY(${i*16}px) scale(1) rotate(${i*1.5}deg)`;
    },i*180);
  });
}

/* ===== LOOP ===== */
let beat=0,last=performance.now(),idx=0;
function loop(t){
  if(t-last>=BEAT){
    last=t;beat++;

    if(beat%8===0){
      quizText.classList.add("show");
      flyWords();
    }
    if(beat%16===0){
      bodyEl.classList.add("light");
      cascade();
      image.src=images[idx++%images.length];
      rationale.classList.add("show");
    }
    if(beat%LOOP===0){
      quizText.classList.remove("show");
      cascadeEl.innerHTML="";
      rationale.classList.remove("show");
      bodyEl.className="body base";
    }
  }
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
</script>
</body>
</html>
